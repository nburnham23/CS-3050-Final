from Piece import Piece, BOARD_LENGTH

class King(Piece):
    def __init__(self, color, start_position, image_path, scale = 1):
        super().__init__(color, start_position, image_path, scale)

    def move(self, board):
        moveset = []
        row, col = self.curr_position
        
        # Vectors of queen's move directions
        # in order: southeast, south, southwest, west, northwest, north, northeast, east
        directions = [(1, 1), (1, 0), (1, -1), (0, -1), (-1, -1), (-1, 0), (-1, 1), (0, 1)]

        for dx, dy in directions:
            new_row, new_col = row + dx, col + dy
            if 0 <= new_row < BOARD_LENGTH and 0 <= new_col < BOARD_LENGTH:
                target_square = board.get_piece((new_row, new_col))
                if target_square is None or target_square.color != self.color:
                    moveset.append((new_row, new_col))
        
        return moveset